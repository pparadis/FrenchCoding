window.Sys||(window.Sys={}),Sys.WebForms||(Sys.WebForms={}),Sys.WebForms.Menu=function(n){var u,f,s,t,e,o,i,r;for(this.items=[],this.depth=n.depth||1,this.parentMenuItem=n.parentMenuItem,this.element=Sys.WebForms.Menu._domHelper.getElement(n.element),this.element.tagName==="DIV"?(u=this.element,this.element=Sys.WebForms.Menu._domHelper.firstChild(u),this.element.tabIndex=n.tabIndex||0,n.element=u,n.menu=this,this.container=new Sys.WebForms._MenuContainer(n),Sys.WebForms.Menu._domHelper.setFloat(this.element,this.container.rightToLeft?"right":"left")):(this.container=n.container,this.keyMap=n.keyMap),Sys.WebForms.Menu._elementObjectMapper.map(this.element,this),this.parentMenuItem&&this.parentMenuItem.parentMenu&&(this.parentMenu=this.parentMenuItem.parentMenu,this.rootMenu=this.parentMenu.rootMenu,this.element.id||(this.element.id=(this.container.element.id||"menu")+":submenu:"+Sys.WebForms.Menu._elementObjectMapper._computedId),this.depth>this.container.staticDisplayLevels?(this.displayMode="dynamic",this.element.style.display="none",this.element.style.position="absolute",this.rootMenu&&this.container.orientation==="horizontal"&&this.parentMenu.isStatic()?(this.element.style.top="100%",this.container.rightToLeft?this.element.style.right="0px":this.element.style.left="0px"):(this.element.style.top="0px",this.container.rightToLeft?this.element.style.right="100%":this.element.style.left="100%"),this.keyMap=this.container.rightToLeft?Sys.WebForms.Menu._keyboardMapping.verticalRtl:Sys.WebForms.Menu._keyboardMapping.vertical):(this.displayMode="static",this.element.style.display="block",this.container.orientation==="horizontal"&&Sys.WebForms.Menu._domHelper.setFloat(this.element,this.container.rightToLeft?"right":"left"))),Sys.WebForms.Menu._domHelper.appendCssClass(this.element,this.displayMode),f=this.element.childNodes,s=f.length,t=0;t<s;t++)(e=f[t],e.nodeType===1)&&(o=null,this.parentMenuItem&&(o=this.parentMenuItem.topLevelMenuItem),i=new Sys.WebForms.MenuItem(this,e,o),r=this.items[this.items.length-1],r&&(i.previousSibling=r,r.nextSibling=i),this.items[this.items.length]=i)},Sys.WebForms.Menu.prototype={blur:function(){this.container&&this.container.blur()},collapse:function(){this.each(function(n){n.hover(!1),n.blur();var t=n.childMenu;t&&t.collapse()}),this.hide()},doDispose:function(){this.each(function(n){n.doDispose()})},each:function(n){for(var i=this.items.length,t=0;t<i;t++)n(this.items[t])},firstChild:function(){return this.items[0]},focus:function(){this.container&&this.container.focus()},get_displayed:function(){return this.element.style.display!=="none"},get_focused:function(){return this.container?this.container.focused:!1},handleKeyPress:function(n){if(this.keyMap.contains(n)){if(this.container.focusedMenuItem){this.container.focusedMenuItem.navigate(n);return}var t=this.firstChild();t&&this.container.navigateTo(t)}},hide:function(){this.get_displayed()&&(this.each(function(n){n.childMenu&&n.childMenu.hide()}),this.isRoot()||(this.get_focused()&&this.container.navigateTo(this.parentMenuItem),this.element.style.display="none"))},isRoot:function(){return this.rootMenu===this},isStatic:function(){return this.displayMode==="static"},lastChild:function(){return this.items[this.items.length-1]},show:function(){this.element.style.display="block"}},Sys.WebForms.Menu.registerClass&&Sys.WebForms.Menu.registerClass("Sys.WebForms.Menu"),Sys.WebForms.MenuItem=function(n,t,i){for(this.keyMap=n.keyMap,this.parentMenu=n,this.container=n.container,this.element=t,this.topLevelMenuItem=i||this,this._anchor=Sys.WebForms.Menu._domHelper.firstChild(t);this._anchor&&this._anchor.tagName!=="A";)this._anchor=Sys.WebForms.Menu._domHelper.nextSibling(this._anchor);if(this._anchor){this._anchor.tabIndex=-1;for(var r=this._anchor;r&&r.tagName!=="UL";)r=Sys.WebForms.Menu._domHelper.nextSibling(r);r&&(this.childMenu=new Sys.WebForms.Menu({element:r,parentMenuItem:this,depth:n.depth+1,container:this.container,keyMap:this.keyMap}),this.childMenu.isStatic()||(Sys.WebForms.Menu._domHelper.appendCssClass(this.element,"has-popup"),Sys.WebForms.Menu._domHelper.appendAttributeValue(this.element,"aria-haspopup",this.childMenu.element.id)))}Sys.WebForms.Menu._elementObjectMapper.map(t,this),Sys.WebForms.Menu._domHelper.appendAttributeValue(t,"role","menuitem"),Sys.WebForms.Menu._domHelper.appendCssClass(t,n.displayMode),this._anchor&&Sys.WebForms.Menu._domHelper.appendCssClass(this._anchor,n.displayMode),this.element.style.position="relative",this.parentMenu.depth==1&&this.container.orientation=="horizontal"&&Sys.WebForms.Menu._domHelper.setFloat(this.element,this.container.rightToLeft?"right":"left"),this.container.disabled||(Sys.WebForms.Menu._domHelper.addEvent(this.element,"mouseover",Sys.WebForms.MenuItem._onmouseover),Sys.WebForms.Menu._domHelper.addEvent(this.element,"mouseout",Sys.WebForms.MenuItem._onmouseout))},Sys.WebForms.MenuItem.prototype={applyUp:function(n,t){t=t||function(n){return n};for(var i=this,r=null;t(i);)n(i),r=i,i=i.parentMenu.parentMenuItem;return r},blur:function(){this.setTabIndex(-1)},doDispose:function(){Sys.WebForms.Menu._domHelper.removeEvent(this.element,"mouseover",Sys.WebForms.MenuItem._onmouseover),Sys.WebForms.Menu._domHelper.removeEvent(this.element,"mouseout",Sys.WebForms.MenuItem._onmouseout),this.childMenu&&this.childMenu.doDispose()},focus:function(){this.parentMenu.get_displayed()||this.parentMenu.show(),this.setTabIndex(0),this.container.focused=!0,this._anchor.focus()},get_highlighted:function(){return/(^|\s)highlighted(\s|$)/.test(this._anchor.className)},getTabIndex:function(){return this._anchor.tabIndex},highlight:function(n){n?(this.applyUp(function(n){n.parentMenu.parentMenuItem.highlight(!0)},function(n){return!n.parentMenu.isStatic()&&n.parentMenu.parentMenuItem}),Sys.WebForms.Menu._domHelper.appendCssClass(this._anchor,"highlighted")):(Sys.WebForms.Menu._domHelper.removeCssClass(this._anchor,"highlighted"),this.setTabIndex(-1))},hover:function(n){var r,i,t;if(n)r=this.container.hoveredMenuItem,r&&r.hover(!1),i=this.container.focusedMenuItem,i&&i!==this&&i.hover(!1),this.applyUp(function(n){n.childMenu&&!n.childMenu.get_displayed()&&n.childMenu.show()}),this.container.hoveredMenuItem=this,this.highlight(!0);else for(t=this;t;)t.highlight(!1),t.childMenu&&(t.childMenu.isStatic()||t.childMenu.hide()),t=t.parentMenu.parentMenuItem},isSiblingOf:function(n){return n.parentMenu===this.parentMenu},mouseout:function(){var i=this,n=this.container.pendingMouseoutId,t=this.container.disappearAfter;n&&window.clearTimeout(n),t>-1&&(this.container.pendingMouseoutId=window.setTimeout(function(){i.hover(!1)},t))},mouseover:function(){var n=this.container.pendingMouseoutId;n&&(window.clearTimeout(n),this.container.pendingMouseoutId=null),this.hover(!0),this.container.menu.get_focused()&&this.container.navigateTo(this)},navigate:function(n){switch(this.keyMap[n]){case this.keyMap.next:this.navigateNext();break;case this.keyMap.previous:this.navigatePrevious();break;case this.keyMap.child:this.navigateChild();break;case this.keyMap.parent:this.navigateParent();break;case this.keyMap.tab:this.navigateOut()}},navigateChild:function(){var i=this.childMenu,t,n;if(i)t=i.firstChild(),t&&this.container.navigateTo(t);else if(this.container.orientation==="horizontal"){if(n=this.topLevelMenuItem.nextSibling||this.topLevelMenuItem.parentMenu.firstChild(),n==this.topLevelMenuItem)return;this.topLevelMenuItem.childMenu.hide(),this.container.navigateTo(n),n.childMenu&&this.container.navigateTo(n.childMenu.firstChild())}},navigateNext:function(){this.childMenu&&this.childMenu.hide();var n=this.nextSibling;!n&&this.parentMenu.isRoot()&&(n=this.parentMenu.parentMenuItem,n&&(n=n.nextSibling)),n||(n=this.parentMenu.firstChild()),n&&this.container.navigateTo(n)},navigateOut:function(){this.parentMenu.blur()},navigateParent:function(){var t=this.parentMenu,i=this.container.orientation==="horizontal",n;if(t){if(i&&this.childMenu&&t.isRoot()){this.navigateChild();return}t.parentMenuItem&&!t.isRoot()&&(i&&this.parentMenu.depth===2?(n=this.parentMenu.parentMenuItem.previousSibling,n||(n=this.parentMenu.rootMenu.lastChild()),this.topLevelMenuItem.childMenu.hide(),this.container.navigateTo(n),n.childMenu&&this.container.navigateTo(n.childMenu.firstChild())):this.parentMenu.hide())}},navigatePrevious:function(){var n,t;this.childMenu&&this.childMenu.hide(),n=this.previousSibling,n&&(t=n.childMenu,t&&t.isRoot()&&(n=t.lastChild())),!n&&this.parentMenu.isRoot()&&(n=this.parentMenu.parentMenuItem),n||(n=this.parentMenu.lastChild()),n&&this.container.navigateTo(n)},setTabIndex:function(n){this._anchor&&(this._anchor.tabIndex=n)}},Sys.WebForms.MenuItem._onmouseout=function(n){var t=Sys.WebForms.Menu._elementObjectMapper.getMappedObject(this);t&&(t.mouseout(),Sys.WebForms.Menu._domHelper.cancelEvent(n))},Sys.WebForms.MenuItem._onmouseover=function(n){var t=Sys.WebForms.Menu._elementObjectMapper.getMappedObject(this);t&&(t.mouseover(),Sys.WebForms.Menu._domHelper.cancelEvent(n))},Sys.WebForms.Menu._domHelper={addEvent:function(n,t,i,r){n.addEventListener?n.addEventListener(t,i,!!r):n["on"+t]=i},appendAttributeValue:function(n,t,i){this.updateAttributeValue("append",n,t,i)},appendCssClass:function(n,t){this.updateClassName("append",n,name,t)},appendString:function(n,t,i){var r=n(),u;if(!r){t(i);return}(u=this._regexes.getRegex("(^| )"+i+"($| )"),u.test(r))||t(r+" "+i)},cancelEvent:function(n){var t=n||window.event;t&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())},contains:function(n,t){for(;t&&t!==n;t=t.parentNode);return!!t},firstChild:function(n){var t=n.firstChild;return t&&t.nodeType!==1&&(t=this.nextSibling(t)),t},getElement:function(n){return typeof n=="string"?document.getElementById(n):n},getElementDirection:function(n){return n?n.dir?n.dir:this.getElementDirection(n.parentNode):"ltr"},getKeyCode:function(n){return n.keyCode||n.charCode||0},insertAfter:function(n,t){var i=n.nextSibling;i?n.parentNode.insertBefore(t,i):n.parentNode&&n.parentNode.appendChild(t)},nextSibling:function(n){for(var t=n.nextSibling;t;){if(t.nodeType===1)return t;t=t.nextSibling}},removeAttributeValue:function(n,t,i){this.updateAttributeValue("remove",n,t,i)},removeCssClass:function(n,t){this.updateClassName("remove",n,name,t)},removeEvent:function(n,t,i,r){n.removeEventListener?n.removeEventListener(t,i,!!r):n.detachEvent&&n.detachEvent("on"+t,i),n["on"+t]=null},removeString:function(n,t,i){var r=n(),u;r&&(u=this._regexes.getRegex("(\\s|\\b)"+i+"$|\\b"+i+"\\s+"),t(r.replace(u,"")))},setFloat:function(n,t){n.style.styleFloat=t,n.style.cssFloat=t},updateAttributeValue:function(n,t,i,r){this[n+"String"](function(){return t.getAttribute(i)},function(n){t.setAttribute(i,n)},r)},updateClassName:function(n,t,i,r){this[n+"String"](function(){return t.className},function(n){t.className=n},r)},_regexes:{getRegex:function(n){var t=this[n];return t||(this[n]=t=new RegExp(n)),t}}},Sys.WebForms.Menu._elementObjectMapper={_computedId:0,_mappings:{},_mappingIdName:"Sys.WebForms.Menu.Mapping",getMappedObject:function(n){var t=n[this._mappingIdName];if(t)return this._mappings[this._mappingIdName+":"+t]},map:function(n,t){var r=n[this._mappingIdName],i;r!==t&&(i=n[this._mappingIdName]||n.id||"%"+ ++this._computedId,n[this._mappingIdName]=i,this._mappings[this._mappingIdName+":"+i]=t,t.mappingId=i)}},Sys.WebForms.Menu._keyboardMapping=new function(){var n=37,t=38,i=39,r=40,u=9,f=27;this.vertical={next:0,previous:1,child:2,parent:3,tab:4},this.vertical[r]=this.vertical.next,this.vertical[t]=this.vertical.previous,this.vertical[i]=this.vertical.child,this.vertical[n]=this.vertical.parent,this.vertical[u]=this.vertical[f]=this.vertical.tab,this.verticalRtl={next:0,previous:1,child:2,parent:3,tab:4},this.verticalRtl[r]=this.verticalRtl.next,this.verticalRtl[t]=this.verticalRtl.previous,this.verticalRtl[n]=this.verticalRtl.child,this.verticalRtl[i]=this.verticalRtl.parent,this.verticalRtl[u]=this.verticalRtl[f]=this.verticalRtl.tab,this.horizontal={next:0,previous:1,child:2,parent:3,tab:4},this.horizontal[i]=this.horizontal.next,this.horizontal[n]=this.horizontal.previous,this.horizontal[r]=this.horizontal.child,this.horizontal[t]=this.horizontal.parent,this.horizontal[u]=this.horizontal[f]=this.horizontal.tab,this.horizontalRtl={next:0,previous:1,child:2,parent:3,tab:4},this.horizontalRtl[i]=this.horizontalRtl.previous,this.horizontalRtl[n]=this.horizontalRtl.next,this.horizontalRtl[r]=this.horizontalRtl.child,this.horizontalRtl[t]=this.horizontalRtl.parent,this.horizontalRtl[u]=this.horizontalRtl[f]=this.horizontalRtl.tab,this.horizontal.contains=this.horizontalRtl.contains=this.vertical.contains=this.verticalRtl.contains=function(n){return this[n]!=null}},Sys.WebForms._MenuContainer=function(n){var i,t;this.focused=!1,this.disabled=n.disabled,this.staticDisplayLevels=n.staticDisplayLevels||1,this.element=n.element,this.orientation=n.orientation||"vertical",this.disappearAfter=n.disappearAfter,this.rightToLeft=Sys.WebForms.Menu._domHelper.getElementDirection(this.element)==="rtl",Sys.WebForms.Menu._elementObjectMapper.map(this.element,this),this.menu=n.menu,this.menu.rootMenu=this.menu,this.menu.displayMode="static",this.menu.element.style.position="relative",this.menu.element.style.width="auto",this.orientation==="vertical"?(Sys.WebForms.Menu._domHelper.appendAttributeValue(this.menu.element,"role","menu"),this.menu.keyMap=this.rightToLeft?Sys.WebForms.Menu._keyboardMapping.verticalRtl:Sys.WebForms.Menu._keyboardMapping.vertical):(Sys.WebForms.Menu._domHelper.appendAttributeValue(this.menu.element,"role","menubar"),this.menu.keyMap=this.rightToLeft?Sys.WebForms.Menu._keyboardMapping.horizontalRtl:Sys.WebForms.Menu._keyboardMapping.horizontal),i=document.createElement("div"),i.style.clear=this.rightToLeft?"right":"left",this.element.appendChild(i),Sys.WebForms.Menu._domHelper.setFloat(this.element,this.rightToLeft?"right":"left"),Sys.WebForms.Menu._domHelper.insertAfter(this.element,i),this.disabled||(Sys.WebForms.Menu._domHelper.addEvent(this.menu.element,"focus",this._onfocus,!0),Sys.WebForms.Menu._domHelper.addEvent(this.menu.element,"keydown",this._onkeydown),t=this,this.element.dispose=function(){t.element.dispose&&(t.element.dispose=null,Sys.WebForms.Menu._domHelper.removeEvent(t.menu.element,"focus",t._onfocus,!0),Sys.WebForms.Menu._domHelper.removeEvent(t.menu.element,"keydown",t._onkeydown),t.menu.doDispose())},Sys.WebForms.Menu._domHelper.addEvent(window,"unload",function(){t.element.dispose&&t.element.dispose()}))},Sys.WebForms._MenuContainer.prototype={blur:function(){this.focused=!1,this.isBlurring=!1,this.menu.collapse(),this.focusedMenuItem=null},focus:function(){this.focused=!0},navigateTo:function(n){this.focusedMenuItem&&this.focusedMenuItem!==this&&this.focusedMenuItem.highlight(!1),n.highlight(!0),n.focus(),this.focusedMenuItem=n},_onfocus:function(n){var t=n||window.event;t.srcElement&&this&&Sys.WebForms.Menu._domHelper.contains(this.element,t.srcElement)&&(this.focused||this.focus())},_onkeydown:function(n){var t=Sys.WebForms.Menu._elementObjectMapper.getMappedObject(this),i=Sys.WebForms.Menu._domHelper.getKeyCode(n||window.event);t&&t.handleKeyPress(i)}};
//@ sourceMappingURL=MenuStandards.min.js.map